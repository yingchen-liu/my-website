<%- include('header', {
  css: [
    `${base}/css/resume.css`
  ]
}); %>
<div class="page resume printing">
  <div class="ui main grid container">
    <div class="sixteen wide column">
      <section>
        <div class="print button contriner noprint">
          <button id="button-print" class="ui mini print button"><i class="icon print"></i> Print</button>
        </div>

        <h1>YINGCHEN LIU</h1>
        <hr>
        <div style="display: flex;">
          <div style="flex-grow: 1;">
            <div>
              <span class="into-item-name">[Phone]</span>
              <% resume.phones.forEach((phone, i) => {
                if (i > 0) {
                  %> / <%
                } %>
                <%= phone %>
              <% }); %>
            </div>
            <div>
              <span class="into-item-name">[Email]</span>
              <% resume.emails.forEach((email, i) => {
                if (i > 0) {
                  %> / <%
                } %>
                <a href="mailto:<%= email %>"><%= email %></a>
              <% }); %>
            </div>
          </div>
          
          <div style="flex-grow: 1;">
            <div>
              <span class="into-item-name">[Website]</span>
              <% resume.websites.forEach((website, i) => {
                if (i > 0) {
                  %> / <%
                } %>
                <a href="<%= website %>" target="_blank"><%= website %></a>
              <% }); %>
            </div>
            <% for (social in resume.socials) { %>
              <div>
                <span class="into-item-name">[<%= social %>]</span>
                <a href="<%= resume.socials[social] %>" target="_blank"><%= resume.socials[social] %></a>
              </div>
            <% } %>
          </div>
        </div>
      </section>

      <section>
        <h2><i class="icon file text"></i> SUMMARY</h2>
        <hr>
        <p><%= resume.summary %></p>

        <h2><i class="icon travel"></i> EMPLOYMENT HISTORY</h2>
        <hr>
        <ul>
          <% resume.experiences.forEach((experience) => { %>
            <li>
              <div class="li-container">
                <div class="li-name">
                  <strong><%= experience.position %></strong>
                  <div>
                    at 
                    <% if (experience.link) { %>
                      <a href="<%= experience.link %>" target="_blank"><%= experience.company %></a>
                    <% } else { %>
                      <%= experience.company %>
                    <% } %>
                  </div>
                </div>
                <div class="li-date">
                  [<%= experience.from %><%= experience.to ? ' - ' + experience.to : '' %>]
                </div>
              </div>
              <ul>
                <% experience.rules.forEach((rule) => {
                  %>
                  <li>
                    <%= rule %>
                  </li>
                  <%
                }); %>
              </ul>
            </li>
          <% }); %>
        </ul>
      </section>

      <section>
        <h2><i class="icon fork"></i> PROJECTS</h2>
        <hr>
        <ul>
          <% projectTypes.forEach((projectType) => { %>
            <li>
              <strong><%= projectType.name %></strong>
              <ul>
                <% projectType.projects.forEach((project) => { %>
                  <li>
                    <div class="li-container">
                      <div class="li-name">
                        <strong><%= project.name %></strong>
                      </div>
                      <div class="li-date">
                        [<%= project.from.year %>.<%= project.from.month %> - <%= project.to.year %>.<%= project.to.month %>]
                      </div>
                    </div>
                    <div>
                      <p>
                        <%= project.brief %></br>
                        <strong>> Roles:</strong> <% project.responsibilities.forEach((responsibility, i) => { 
                          if (i > 0) {
                            %>, <%
                          }
                          %><%= responsibility %><% }); %>  <!-- must be here, to avoid extra space befor ',' -->
                        </br>
                        <strong>> Technologies:</strong> <% project.technologies.forEach((technology, i) => { 
                          if (i > 0) {
                            %>, <%
                          }
                          %><%= technology %><% }); %>  <!-- must be here, to avoid extra space befor ',' -->
                      </p>
                    </div>
                  </li>
                <% }); %>
              </ul>
            </li>
          <% }); %>
        </ul>
      </section>

      <section>
        <h2><i class="icon keyboard"></i> TECHNICAL SKILLS</h2>
        <hr>
          <ul>
            <% skillTypes.forEach((skillType) => { %>
              <li>
                <strong><%= skillType.name %></strong>
                <ul class="three in a row">
                  <% skillType.skills.forEach((skill) => { %>
                    <li>
                      <img class="ui skill avatar image" title="<%= skill.name %>" src="<%= base %>/<%= skill.icon %>">
                      <%= skill.name %>: <%= skill.fluency %>
                    </li>
                  <% }); %>
                </ul>
              </li>
            <% }); %>
        </ul>
      </section>

      <section>
        <h2><i class="icon heart"></i> PERSONAL ATTRIBUTES</h2>
        <hr>
        <ul>
          <% resume.skills.forEach((skill) => { %>
            <li>
              <strong><%= skill.name %></strong>
              <p><%= skill.desc %></p>
            </li>
          <% }); %>
        </ul>
      </section>
      
      <section>
        <h2><i class="icon student"></i> EDUCATION</h2>
        <hr>
        <ul>
          <% resume.educations.forEach((education) => { %>
            <li>
              <div class="li-container">
                <div class="li-name">
                  <strong><%= education.school %></strong> <%= education.location %>
                </div>
                <div class="li-date">
                  [<%= education.from %><%= education.to ? ' - ' + education.to : '' %>]</br>
                </div>
              </div>
              <div>
                <% education.degrees.forEach((degree) => {
                  %>
                  <%= degree %></br>
                  <%
                }); %>
              </div>
              <div>
                <% 
                if (education.achievements) {
                  %>
                  <strong>> Achievements: </strong>
                  <ul>
                    <%
                    education.achievements.forEach((achievement) => {
                      %>
                      <li>
                        <% if (achievement.link) {
                          %>
                          <a href="<%= achievement.link %>" target="_blank">
                            <%= achievement.content %>
                          </a>
                          <%
                        } else {
                          %>
                          <%= achievement.content %>
                          <%
                        } %>
                        [<%= achievement.year %>]
                      </li>
                      <%
                    });
                  %>
                  </ul>
                <% } %>
              </div>
            </li>
          <% }); %>
        </ul>
      </section>
    </div>
  </div>
</div>
<%- include('footer', {
  js: [
    `${base}/js/resume.js`
  ]
}); %>