!function(){var i=function(f){var u=jQuery,m="html-entities-dialog",v=[],p=[];f.fn.htmlEntitiesDialog=function(){var l,e=this,t=this.cm,i=e.lang,o=e.settings,n=o.pluginPath+m+"/",a=this.editor,d=(t.getCursor(),t.getSelection(),e.classPrefix),s=d+"dialog-"+m,r=i.dialog.htmlEntities,c=['<div class="'+d+'html-entities-box" style="width: 760px;height: 334px;margin-bottom: 8px;overflow: hidden;overflow-y: auto;">','<div class="'+d+'grid-table">',"</div>","</div>"].join("\r\n");t.focus(),0<a.find("."+s).length?(l=a.find("."+s),v=[],l.find("a").removeClass("selected"),this.dialogShowMask(l),this.dialogLockScreen(),l.show()):l=this.createDialog({name:s,title:r.title,width:800,height:475,mask:o.dialogShowMask,drag:o.dialogDraggable,content:c,lockScreen:o.dialogLockScreen,maskStyle:{opacity:o.dialogMaskOpacity,backgroundColor:o.dialogMaskBgColor},buttons:{enter:[i.buttons.enter,function(){return t.replaceSelection(v.join(" ")),this.hide().lockScreen(!1).hideMask(),!1}],cancel:[i.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}});var h=l.find("."+d+"grid-table"),g=function(){if(!(p.length<1)){var e=Math.ceil(p.length/20);h.html("");for(var t=0;t<e;t++){for(var i='<div class="'+d+'grid-table-row">',o=0;o<20;o++){var n=p[20*t+o];if(void 0!==n){var a=n.name.replace("&amp;","&");i+='<a href="javascript:;" value="'+n.name+'" title="'+a+'" class="'+d+'html-entity-btn">'+a+"</a>"}}i+="</div>",h.append(i)}l.find("."+d+"html-entity-btn").bind(f.mouseOrTouch("click","touchend"),function(){u(this).toggleClass("selected"),u(this).hasClass("selected")&&v.push(u(this).attr("value"))})}};p.length<1?("function"==typeof l.loading&&l.loading(!0),u.getJSON(n+m.replace("-dialog","")+".json",function(e){"function"==typeof l.loading&&l.loading(!1),p=e,g()})):g()}};"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=i:"function"==typeof define?define.amd?define(["editormd"],function(e){i(e)}):define(function(e){var t=e("./../../editormd");i(t)}):i(window.editormd)}();