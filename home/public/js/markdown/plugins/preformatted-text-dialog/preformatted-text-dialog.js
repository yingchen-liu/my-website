!function(){var o=function(g){var u;g.fn.preformattedTextDialog=function(){var e,o=this.cm,t=this.lang,i=this.editor,n=this.settings,r=o.getCursor(),a=o.getSelection(),d=this.classPrefix,l=t.dialog.preformattedText,s=d+"preformatted-text-dialog";if(o.focus(),0<i.find("."+s).length)(e=i.find("."+s)).find("textarea").val(a),this.dialogShowMask(e),this.dialogLockScreen(),e.show();else{var c='<textarea placeholder="coding now...." style="display:none;">'+a+"</textarea>";e=this.createDialog({name:s,title:l.title,width:780,height:540,mask:n.dialogShowMask,drag:n.dialogDraggable,content:c,lockScreen:n.dialogLockScreen,maskStyle:{opacity:n.dialogMaskOpacity,backgroundColor:n.dialogMaskBgColor},buttons:{enter:[t.buttons.enter,function(){var e=this.find("textarea").val();if(""===e)return alert(l.emptyAlert),!1;for(var t in e=e.split("\n"))e[t]="    "+e[t];return e=e.join("\n"),0!==r.ch&&(e="\r\n\r\n"+e),o.replaceSelection(e),this.hide().lockScreen(!1).hideMask(),!1}],cancel:[t.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}})}var f={mode:"text/html",theme:n.theme,tabSize:4,autofocus:!0,autoCloseTags:!0,indentUnit:4,lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,indentWithTabs:!0,styleActiveLine:!0,styleSelectedText:!0,autoCloseBrackets:!0,showTrailingSpace:!0,highlightSelectionMatches:!0},h=e.find("textarea");e.find(".CodeMirror");e.find(".CodeMirror").length<1?(u=g.$CodeMirror.fromTextArea(h[0],f),e.find(".CodeMirror").css({float:"none",margin:"0 0 5px",border:"1px solid #ddd",fontSize:n.fontSize,width:"100%",height:"410px"}),u.on("change",function(e){h.val(e.getValue())})):u.setValue(o.getSelection())}};"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=o:"function"==typeof define?define.amd?define(["editormd"],function(e){o(e)}):define(function(e){var t=e("./../../editormd");o(t)}):o(window.editormd)}();