!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("julia",function(e,u){var f="error";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var s=u.operators||/^\.?[|&^\\%*+\-<>!=\/]=?|\?|~|:|\$|\.[<>]|<<=?|>>>?=?|\.[<>=]=|->?|\/\/|\bin\b/,m=u.delimiters||/^[;,()[\]{}]/,p=u.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*!*/,h=/^(`|'|"{3}|([br]?"))/,d=t(["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype","ccall"]),g=t(["true","false","enumerate","open","close","nothing","NaN","Inf","print","println","Int","Int8","Uint8","Int16","Uint16","Int32","Uint32","Int64","Uint64","Int128","Uint128","Bool","Char","Float16","Float32","Float64","Array","Vector","Matrix","String","UTF8String","ASCIIString","error","warn","info","@printf"]),b=t(["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"]),v=t(["end","else","elseif","catch","finally"]),x=/^@[_A-Za-z][_A-Za-z0-9]*/,y=/^:[_A-Za-z][_A-Za-z0-9]*/;function _(e){var t=z(e);return"["==t||"{"==t}function z(e){return 0==e.scopes.length?null:e.scopes[e.scopes.length-1]}function F(e,t){var n=t.leaving_expr;if(e.sol()&&(n=!1),t.leaving_expr=!1,n&&e.match(/^'+/))return"operator";if(e.match(/^\.{2,3}/))return"operator";if(e.eatSpace())return null;var r=e.peek();if("#"===r)return e.skipToEnd(),"comment";"["===r&&t.scopes.push("["),"{"===r&&t.scopes.push("{");var i,a=z(t);if("["===a&&"]"===r&&(t.scopes.pop(),t.leaving_expr=!0),"{"===a&&"}"===r&&(t.scopes.pop(),t.leaving_expr=!0),")"===r&&(t.leaving_expr=!0),!_(t)&&(i=e.match(b,!1))&&t.scopes.push(i),!_(t)&&e.match(v,!1)&&t.scopes.pop(),_(t)&&e.match(/^end/))return"number";if(e.match(/^=>/))return"operator";if(e.match(/^[0-9\.]/,!1)){var o=RegExp(/^im\b/),l=!1;if(e.match(/^\d*\.(?!\.)\d+([ef][\+\-]?\d+)?/i)&&(l=!0),e.match(/^\d+\.(?!\.)\d*/)&&(l=!0),e.match(/^\.\d+/)&&(l=!0),l)return e.match(o),t.leaving_expr=!0,"number";var c=!1;if(e.match(/^0x[0-9a-f]+/i)&&(c=!0),e.match(/^0b[01]+/i)&&(c=!0),e.match(/^0o[0-7]+/i)&&(c=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(c=!0),e.match(/^0(?![\dx])/i)&&(c=!0),c)return e.match(o),t.leaving_expr=!0,"number"}return e.match(/^(::)|(<:)/)?"operator":!n&&e.match(y)?"string":e.match(s)?"operator":e.match(h)?(t.tokenize=function(n){for(;0<="rub".indexOf(n.charAt(0).toLowerCase());)n=n.substr(1);var r=1==n.length,i="string";function e(e,t){for(;!e.eol();)if(e.eatWhile(/[^'"\\]/),e.eat("\\")){if(e.next(),r&&e.eol())return i}else{if(e.match(n))return t.tokenize=F,i;e.eat(/['"]/)}if(r){if(u.singleLineStringErrors)return f;t.tokenize=F}return i}return e.isString=!0,e}(e.current()),t.tokenize(e,t)):e.match(x)?"meta":e.match(m)?null:e.match(d)?"keyword":e.match(g)?"builtin":e.match(p)?(t.leaving_expr=!0,"variable"):(e.next(),f)}return{startState:function(){return{tokenize:F,scopes:[],leaving_expr:!1}},token:function(e,t){var n=function(e,t){null;var n=t.tokenize(e,t);return"."===e.current()&&null===(n=e.match(p,!1)?null:f)&&"meta"===t.lastStyle&&(n="meta"),n}(e,t);return t.lastStyle=n},indent:function(e,t){var n=0;return"end"!=t&&"]"!=t&&"}"!=t&&"else"!=t&&"elseif"!=t&&"catch"!=t&&"finally"!=t||(n=-1),4*(e.scopes.length+n)},lineComment:"#",fold:"indent",electricChars:"edlsifyh]}"}}),e.defineMIME("text/x-julia","julia")});