!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(a){"use strict";function t(e){for(var r=e.display.lineSpace.childNodes.length-1;0<=r;r--){var o=e.display.lineSpace.childNodes[r];/(^|\s)CodeMirror-ruler($|\s)/.test(o.className)&&o.parentNode.removeChild(o)}}function i(e){for(var r=e.getOption("rulers"),o=e.defaultCharWidth(),t=e.charCoords(a.Pos(e.firstLine(),0),"div").left,i=e.display.scroller.offsetHeight+30,l=0;l<r.length;l++){var s=document.createElement("div");s.className="CodeMirror-ruler";var n,d=r[l];"number"==typeof d?n=d:(n=d.column,d.className&&(s.className+=" "+d.className),d.color&&(s.style.borderColor=d.color),d.lineStyle&&(s.style.borderLeftStyle=d.lineStyle),d.width&&(s.style.borderLeftWidth=d.width),r[l].className),s.style.left=t+n*o+"px",s.style.top="-50px",s.style.bottom="-20px",s.style.minHeight=i+"px",e.display.lineSpace.insertBefore(s,e.display.cursorDiv)}}function l(e){t(e),i(e)}a.defineOption("rulers",!1,function(e,r,o){o&&o!=a.Init&&(t(e),e.off("refresh",l)),r&&r.length&&(i(e),e.on("refresh",l))})});