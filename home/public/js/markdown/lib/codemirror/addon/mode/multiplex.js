!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(A){"use strict";A.multiplexingMode=function(a){var v=Array.prototype.slice.call(arguments,1),d=v.length;function f(e,n,t){if("string"==typeof n)return e.indexOf(n,t);var i=n.exec(t?e.slice(t):e);return i?i.index+t:-1}return{startState:function(){return{outer:A.startState(a),innerActive:null,inner:null}},copyState:function(e){return{outer:A.copyState(a,e.outer),innerActive:e.innerActive,inner:e.innerActive&&A.copyState(e.innerActive.mode,e.inner)}},token:function(e,n){if(n.innerActive){var t=n.innerActive;o=e.string;if(!t.close&&e.sol())return n.innerActive=n.inner=null,this.token(e,n);if((l=t.close?f(o,t.close,e.pos):-1)==e.pos)return e.match(t.close),n.innerActive=n.inner=null,t.delimStyle;-1<l&&(e.string=o.slice(0,l));var i=t.mode.token(e,n.inner);return-1<l&&(e.string=o),t.innerStyle&&(i=i?i+" "+t.innerStyle:t.innerStyle),i}for(var r=1/0,o=e.string,c=0;c<d;++c){var l,u=v[c];if((l=f(o,u.open,e.pos))==e.pos)return e.match(u.open),n.innerActive=u,n.inner=A.startState(u.mode,a.indent?a.indent(n.outer,""):0),u.delimStyle;-1!=l&&l<r&&(r=l)}r!=1/0&&(e.string=o.slice(0,r));var s=a.token(e,n.outer);return r!=1/0&&(e.string=o),s},indent:function(e,n){var t=e.innerActive?e.innerActive.mode:a;return t.indent?t.indent(e.innerActive?e.inner:e.outer,n):A.Pass},blankLine:function(e){var n=e.innerActive?e.innerActive.mode:a;if(n.blankLine&&n.blankLine(e.innerActive?e.inner:e.outer),e.innerActive)"\n"===e.innerActive.close&&(e.innerActive=e.inner=null);else for(var t=0;t<d;++t){var i=v[t];"\n"===i.open&&(e.innerActive=i,e.inner=A.startState(i.mode,n.indent?n.indent(e.outer,""):0))}},electricChars:a.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:a}}}}});