mapboxgl.accessToken="pk.eyJ1IjoieXR4aXV4aXUiLCJhIjoiY2l4NnByYTZkMDEyOTJ5bXN2OGNyMzU0YSJ9.2XjIDOvVVsT4-WWcdNuBIA";var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/ytxiuxiu/cj5nwzw7s4s112rmeirleuql4",maxZoom:4,minZoom:1.5,center:[22,5]});map.scrollZoom.disable(),map.addControl(new mapboxgl.NavigationControl,"bottom-right"),map.on("load",function(){var t=null;geojson.features.forEach(function(e){var a=$("<div></div>").addClass("marker "+e.properties.type+" anchor item").attr("data-coordinates",JSON.stringify(e.geometry.coordinates)).attr("data-name",e.properties.name).attr("data-anchor",e.properties.anchorName).click(function(){var e=this;setTimeout(function(){$('a[name="'+$(e).attr("data-anchor")+'"]').next().transition("shake")},200)}).on("mouseover",function(){t=new mapboxgl.Popup({closeOnClick:!1,closeButton:!1,offset:[0,-30]}).setLngLat(JSON.parse($(this).attr("data-coordinates"))).setHTML($(this).attr("data-name")).addTo(map)}).on("mouseleave",function(){t.remove()});e=new mapboxgl.Marker(a[0],{offset:[-15,-30]}).setLngLat(e.geometry.coordinates).addTo(map)})}),$(".selection.dropdown").dropdown(),$(".travel.event .extra.images .image img").click(function(){var e=$(".ui.image.modal"),a=e.find(".content img");a.attr("src",$(this).attr("data-ori")),e.modal({observeChanges:!0,blurring:!0}).modal("show"),a.on("load",function(){e.modal("refresh")}).each(function(){this.complete&&$(this).load()})});var storageKeyTravelLikes="travelLikes";localStorage.getItem(storageKeyTravelLikes)||localStorage.setItem(storageKeyTravelLikes,JSON.stringify([]));var travelLikes=JSON.parse(localStorage.getItem(storageKeyTravelLikes));travelLikes.forEach(function(e){$like=$('.like[data-travel-id="'+e+'"]'),$like.addClass("active")}),$(".like").click(function(){var e=$(this),a=e.attr("data-travel-id"),t=e.find(".number.of.likes");travelLikes.indexOf(a)<0?(t.text(parseInt(t.text())+1),e.addClass("active"),travelLikes.push(a)):(t.text(parseInt(t.text())-1),e.removeClass("active"),travelLikes.splice(travelLikes.indexOf(a))),localStorage.setItem(storageKeyTravelLikes,JSON.stringify(travelLikes))});